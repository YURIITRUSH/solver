const getTemplate=(e=[],t,s)=>{let i=t??"placeholder не указан";const c=e.map((e=>{let t="";return e.id===s&&(i=e.value,t="selected"),`\n          <li class="select__item ${t}" data-type="item" data-id="${e.id}">${e.value}</li>\n      `}));return`\n      <input type="hidden" class="hidden__input">\n      <div class="select__backdrop" data-type="backdrop"></div>\n      <div class="select__input" data-type="input">\n          <span data-type="value">${i}</span>\n          <img src="./img/down-arrow.svg" alt="arrow" data-type="arrow" class="select__arrow">\n      </div>\n      <div class="select__dropdown">\n          <ul class="select__list">\n              ${c.join("")}\n          </ul>\n      </div>\n  `};class Select{constructor(e,t){this.$el=document.querySelector(e),this.options=t,this.selectedId=t.selectedId,this.render(),this.setup()}render(){const{placeholder:e,data:t}=this.options;this.$el.classList.add("select"),this.$el.innerHTML=getTemplate(t,e,this.selectedId)}setup(){this.clickHandler=this.clickHandler.bind(this),this.$el.addEventListener("click",this.clickHandler),this.$arrow=this.$el.querySelector('[data-type="arrow"]'),this.$value=this.$el.querySelector('[data-type="value"]')}clickHandler(e){const{type:t}=e.target.dataset;if("input"===t)this.toggle();else if("item"===t){const t=e.target.dataset.id;this.select(t)}else"backdrop"===t&&this.close()}get isOpen(){return this.$el.classList.contains("open")}get current(){return this.options.data.find((e=>e.id===this.selectedId))}select(e){this.selectedId=e,this.$value.textContent=this.current.value,this.$el.querySelectorAll('[data-type="item"]').forEach((e=>e.classList.remove("selected"))),this.$el.querySelector(`[data-id="${e}"]`).classList.add("selected"),this.options.onSelect&&this.options.onSelect(this.current),this.close()}toggle(){this.isOpen?this.close():this.open()}open(){this.$el.classList.add("open"),this.$arrow.classList.add("open")}close(){this.$el.classList.remove("open"),this.$arrow.classList.remove("open")}destroy(){this.$el.removeEventListener("click",this.clickHandler),this.$el.innerHTML=""}}const select=new Select("#select",{placeholder:"Выберите элемент",selectedId:"1",data:[{id:"1",value:"EN"},{id:"2",value:"RU"},{id:"3",value:"UA"}],onSelect(e){document.querySelector(".hidden__input").value=e.value}});function burgerMenu(){const e=document.querySelector(".burger"),t=document.querySelector(".menu"),s=document.querySelector("body"),i=document.querySelector(".nav__buttons");e.addEventListener("click",(()=>{t.classList.contains("active")?(t.classList.remove("active"),e.classList.remove("active-burger"),s.classList.remove("locked"),i.classList.remove("active")):(t.classList.add("active"),e.classList.add("active-burger"),s.classList.add("locked"),i.classList.add("active"))})),window.addEventListener("resize",(()=>{window.innerWidth>768&&(t.classList.remove("active"),e.classList.remove("active-burger"),s.classList.remove("locked"),i.classList.remove("active"))}))}function accordion(){document.querySelectorAll(".accordion__item-trigger").forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentNode;t.classList.contains("accordion__item-active")?t.classList.remove("accordion__item-active"):(document.querySelectorAll(".accordion__item").forEach((e=>e.classList.remove("accordion__item-active"))),t.classList.add("accordion__item-active"))}))}))}function togglePrice(){const e=document.querySelector(".billing"),t=document.querySelectorAll(".price__item-oldprice"),s=document.querySelectorAll(".price__item-price"),i=document.querySelectorAll(".billing__item");e.addEventListener("click",(()=>{e.classList.toggle("active"),e.classList.contains("active")?(i[0].classList.remove("active"),t[0].innerHTML="$11.99",t[1].innerHTML="$24.99",s[0].innerHTML="$5.59",s[1].innerHTML="$19.39",i[2].classList.add("active")):(i[0].classList.add("active"),t[0].innerHTML="$119.99",t[1].innerHTML="$249.99",s[0].innerHTML="$55.99",s[1].innerHTML="$193.99",i[2].classList.remove("active"))}))}function fixedNav(){const e=document.querySelector("nav");window.scrollY>=1?e.classList.add("fixed__nav"):e.classList.remove("fixed__nav")}burgerMenu(),accordion(),togglePrice(),window.addEventListener("scroll",fixedNav);